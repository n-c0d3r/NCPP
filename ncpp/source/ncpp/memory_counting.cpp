#include <ncpp/.hpp>



//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////



namespace ncpp {



	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////



#ifdef NCPP_ENABLE_MEMORY_COUNTING

	asz total_allocated_memory_g = 0;
	asz usable_allocated_memory_g = 0;

	////////////////////////////////////////////////////////////////////////////////////
	////////////////////////////////////////////////////////////////////////////////////
	////////////////////////////////////////////////////////////////////////////////////

	sz total_allocated_memory() {

		return total_allocated_memory_g.load(std::memory_order_acquire);
	}
	void increase_total_allocated_memory(sz bytes) {

		total_allocated_memory_g.fetch_add(bytes, std::memory_order_release);
	}
	void decrease_total_allocated_memory(sz bytes) {

		total_allocated_memory_g.fetch_sub(bytes, std::memory_order_release);
	}

	sz usable_allocated_memory() {

		return usable_allocated_memory_g.load(std::memory_order_acquire);
	}
	void increase_usable_allocated_memory(sz bytes) {

		usable_allocated_memory_g.fetch_add(bytes, std::memory_order_release);
	}
	void decrease_usable_allocated_memory(sz bytes) {

		usable_allocated_memory_g.fetch_sub(bytes, std::memory_order_release);
	}
#else

	////////////////////////////////////////////////////////////////////////////////////
	////////////////////////////////////////////////////////////////////////////////////
	////////////////////////////////////////////////////////////////////////////////////

	sz total_allocated_memory() {

		warning(false, "native memory counting disabled");

		return 0;
	}
	void increase_total_allocated_memory(sz bytes) {

		warning(false, "native memory counting disabled");
	}
	void decrease_total_allocated_memory(sz bytes) {

		warning(false, "native memory counting disabled");
	}

	sz usable_allocated_memory() {

		warning(false, "native memory counting disabled");
	}
	void increase_usable_allocated_memory(sz bytes) {

		warning(false, "native memory counting disabled");

	}
	void decrease_usable_allocated_memory(sz bytes) {

		warning(false, "native memory counting disabled");
	}
#endif

}